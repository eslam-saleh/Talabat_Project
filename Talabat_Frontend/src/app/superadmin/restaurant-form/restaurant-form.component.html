<div class="container">
  <div class="row">
    <div class="col-md-6">
      <form #f="ngForm" (ngSubmit)=save(f.value)>
        <div class="form-group">
          <label for="title">Title</label>
          <input #title="ngModel" [class.is-valid]="!title.invalid" [class.is-invalid]="title.invalid&&title.touched"
            [(ngModel)]="restaurant.name" name="name" id="title" type="text" class="form-control" required>
          <div class="alert alert-danger" *ngIf="title.invalid&&title.touched">
            title is required
          </div>
        </div>
        <div class="form-group">
          <label for="shortdes">Short Description</label>
          <input #shortDescription="ngModel" [class.is-valid]="!shortDescription.invalid"
            [class.is-invalid]="shortDescription.invalid&&shortDescription.touched" [(ngModel)]="restaurant.shortDescribtion" name="shortDescription"
            id="shortdes" type="text" class="form-control" required>
          <div class="alert alert-danger" *ngIf="shortDescription.invalid&&shortDescription.touched">
            Short Description is required
          </div>
        </div>
        <div class="form-group">
          <label for="des">Description</label>
          <textarea #description="ngModel" [class.is-valid]="!description.invalid"
            [class.is-invalid]="description.invalid&&description.touched" [(ngModel)]="restaurant.describtion" name="description" id="des"
            class="form-control" required></textarea>
          <div class="alert alert-danger" *ngIf="description.invalid&&description.touched">
            Description is required
          </div>
        </div>
        <div class="form-group">
          <label class="form-label" for="customFile">Default file input example</label>
          <input  #image name="image" type="file" accept="image/*" (change)="onSelectFile($event.target.files)" class="form-control" id="customFile" />
        </div>
        <div class="form-group">
          <label for="user">Admin User</label>
          <select #user="ngModel" [class.is-valid]="!user.invalid" [class.is-invalid]="user.invalid&&user.touched"
            [(ngModel)]="restaurant.userId" name="userId" id="user" class="form-control" required>
            <option *ngFor="let user of users$ | async" [value]="user.id">{{user.email}}</option>
          </select>
          <div class="alert alert-danger" *ngIf="user.invalid&&user.touched">
            User is required
          </div>
        </div>
        <div class="form-group">
          <label for="user">Category</label>
          <select #catogery="ngModel" [class.is-valid]="!catogery.invalid" [class.is-invalid]="catogery.invalid&&catogery.touched"
            [(ngModel)]="restaurant.restaurantCatogeryId" name="restaurantCatogeryId" id="catogery" class="form-control" required>
            <option *ngFor="let catogery of catogeries$ | async" [value]="catogery.id">{{catogery.name}}</option>
          </select>
          <div class="alert alert-danger" *ngIf="catogery.invalid&&catogery.touched">
            Catogery is required
          </div>
        </div>
        <button class="btn btn-primary btn-lg">Save</button>
        <button type="button" *ngIf="id" (click)="delete()" class="btn btn-danger btn-lg ml-2">Delete</button>
      </form>
    </div>
    <div class="col-md-6 mt-4" >
      <div class="card" >
        <img class="card-img-top" style="height: 400px;" [src]="img" *ngIf="restaurant.image || !id&&image.value" >
        <div class="card-body">
          <h5 class="card-title">{{title.value}}</h5>
          <p class="card-text">
            {{shortDescription.value}}
          </p>
          <p class="card-text">
            {{description.value}}
          </p>
        </div>
      </div>
    </div>
  </div>

</div>
